<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="AUTHOR" content="matt@opennetadmin.com">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="KEYWORDS" content="ona opennetadmin forum archive">
    <meta name="description" content="Old OpenNetAdmin forum archive topic page Every block I want to create already exists!! OpenNetAdmin Forum Archive">


    <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/stylesheet.css">

    <title>Every block I want to create already exists!! - OpenNetAdmin Forum Archive</title>
<script type="text/javascript" src="../jquery.js"></script> <script type="text/javascript" src="../jquery.tablesorter.js"></script> <script type="text/javascript" src="../forum.js"></script>
  </head>

  <body onload="load('forum')">
    <a id="forkme_banner" href="https://github.com/opennetadmin"></a>
    <a id="fishes" href="http://www.christiananswers.net/gospel/home.html"><img style="opacity: 0.3;border: 0 none;" src="/images/fish.gif" height="15"></a>
<form id="donatebutton" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">OpenNetAdmin</h1>
          <h2 id="project_tagline">Track. Automate. Configure.</h2>
          <center>
            <a class="header_link" href="/">Home</a>
            <a class="header_link" href="/features.html">Features</a>
            <a class="header_link" href="/community.html">Community</a>
            <a class="header_link" href="/develop.html">Develop</a>
          </center>
          <section id="downloads">
            <a class="tar_download_link" href="https://github.com/opennetadmin/ona/tarball/current">Download this project as a tar.gz file</a>
          </section>
        </header>
    </div>

       <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner" style="max-width: 730px">


<div class="breadcrumb">
	<p><a href="../index.html">Forums Archive Home</a> &raquo; <a href="index.html">General Discussion</a></p>
</div>

<h1>Every block I want to create already exists!!</h1>

<div class="post ">
	<div class="info">
		<p class="poster">quijada</p>
		<p class="dt">12-05-2009 04:58:43</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Hi, I have the same problem every time I want to create a block, it already exist!! However there are no blocks created yet. Somebody knows why? (of course, I am logged-in as admin). The exact message is:<br />
<br />
&quot;Save failed. ERROR =&gt; The block TESTBLOCK already exists!&quot; (And the same with every name I make up...)<br />
<br />
On the other hand, I have no problems creating hosts, subnets, vlans, vlan campuses, locations, ... Moreover, I have created blocks without problems with the demo version (<!-- m --><a class="postlink" href="http://opennetadmin.com/demo"><a href="http://opennetadmin.com/demo&lt;/a&gt;&lt;!--">http://opennetadmin.com/demo</a><!--</a> m -->). Then, I don't understand what happens <!-- s:-( --><img src="{SMILIES_PATH}/icon_e_sad.gif" alt=":-(" title=":-(" /><!-- s:-( --><br />
<br />
Is there some MySQL table related to blocks, because I have been looking for that without success.<br />
<br />
I am using the last version of ONA: v09.05.02<br />
<br />
Thank you for your attention.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">12-05-2009 08:57:43</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Well it looks like I screwed something up there.. I too get the block exists error.. I'll have a look and fix it up for the next release.<br />
<br />
As far as a blocks table, yes it is called simply &quot;blocks&quot;..	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">quijada</p>
		<p class="dt">12-05-2009 11:16:02</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Exactly. I am pleased to know that was not a problem in my system.<br />
<br />
I have ask you about the table for blocks because it doesn't exist (at moment), however I have been watching some modules about it and I found some references to 'block' as a table although I wasn't sure.<br />
<br />
Thank you Matt.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">12-05-2009 11:37:08</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Hmm ok so I wasnt paying attention on my side.. I'm not getting the &quot;already exists&quot; error.. (when I acutaly use something that doesnt exist!)<br />
<br />
If you truly don't have a blocks table in your database then I would suspect that is the problem here.  you should have 39 tables in your ONA database.  The file /opt/ona/install/ona-tables.sql contains all the info on creating those tables.  If they are not there then it may have been an error during install?<br />
<br />
I'd check that you have all the right tables and or re-install.<br />
<br />
I checked through the code on the blocks thing and it &quot;looks&quot; ok at this point to me.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">quijada</p>
		<p class="dt">12-05-2009 12:16:05</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Hi again Matt,<br />
<br />
Augh! I have only 38 tables. I think we are near the problem. I have just sighted the file ona-tables.sql and has copy and paste de code of creating the table 'blocks&quot; and it generates a syntax error. Here is the code:<br />
<br />
DROP TABLE IF EXISTS `blocks`;<br />
CREATE TABLE `blocks` (<br />
  `id` int(10) unsigned NOT NULL,<br />
  `ip_addr_start` int(10) unsigned NOT NULL,<br />
  `ip_addr_end` int(10) unsigned NOT NULL,<br />
  `name` varchar(63) NOT NULL,<br />
  `notes` varchar(255) text NOT NULL, &lt;--------------------------------- This and the following line generate the error.<br />
  PRIMARY KEY  (`id`)<br />
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='User Defined IP Address Ranges';<br />
<br />
Could be the problem the word 'text' in the definition of the atribute 'notes'??<br />
<br />
See you	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">12-05-2009 19:24:20</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	That is exactly the problem.  the word &quot;text&quot; should be removed from that statement.<br />
<br />
I'll fix it up in my files.. you'll have to manually make the changes of course, or wait for the next revision.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">quijada</p>
		<p class="dt">13-05-2009 00:27:08</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Yeah, I have just tried deleting the word 'text' of that line and now all is perfect. Maybe you must know that in the installation process (that I did two times before posting this thread) I never watch any error message about a problem creating the database.<br />
<br />
Matt, thank you very much for your help.	<!-- END MESSAGE -->
	</div>
</div>
</section></div>



<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-2598149030041038";
//728x90_bugsfooter
google_ad_slot = "1568593938";
google_ad_width = 728;
google_ad_height = 90;
//--></script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

    <!-- FOOTER  -->
    <div class="outer">
      <footer class="inner">
          <center>
 


          </center>
      </footer>
    </div>

          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script
%3E"));
          </script>

          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-361894-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>


