<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="AUTHOR" content="matt@opennetadmin.com">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="KEYWORDS" content="ona opennetadmin forum archive">
    <meta name="description" content="Old OpenNetAdmin forum archive topic page Import BIND DHCP/DNS? OpenNetAdmin Forum Archive">


    <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/stylesheet.css">

    <title>Import BIND DHCP/DNS? - OpenNetAdmin Forum Archive</title>
<script type="text/javascript" src="../jquery.js"></script> <script type="text/javascript" src="../jquery.tablesorter.js"></script> <script type="text/javascript" src="../forum.js"></script>
  </head>

  <body onload="load('forum')">
    <a id="forkme_banner" href="https://github.com/opennetadmin"></a>
    <a id="fishes" href="http://www.christiananswers.net/gospel/home.html"><img style="opacity: 0.3;border: 0 none;" src="/images/fish.gif" height="15"></a>
<form id="donatebutton" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">OpenNetAdmin</h1>
          <h2 id="project_tagline">Track. Automate. Configure.</h2>
          <center>
            <a class="header_link" href="/">Home</a>
            <a class="header_link" href="/features.html">Features</a>
            <a class="header_link" href="/community.html">Community</a>
            <a class="header_link" href="/develop.html">Develop</a>
          </center>
          <section id="downloads">
            <a class="tar_download_link" href="https://github.com/opennetadmin/ona/tarball/current">Download this project as a tar.gz file</a>
          </section>
        </header>
    </div>

       <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner" style="max-width: 730px">


<div class="breadcrumb">
	<p><a href="../index.html">Forums Archive Home</a> &raquo; <a href="index.html">General Discussion</a></p>
</div>

<h1>Import BIND DHCP/DNS?</h1>

<div class="post ">
	<div class="info">
		<p class="poster">tin</p>
		<p class="dt">16-11-2009 17:37:50</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	I vaguely remember reading something about importing existing DHCP and DNS into ONA... But now I can't find any info on doing so. Was I dreaming it?<br />
<br />
Reason I ask is I'm fairly happy with ONA and would like to put our existing data in. We only have about 200 entries to put in, but I'd rather not be the one typing it all  <!-- s:mrgreen: --><img src="{SMILIES_PATH}/icon_mrgreen.gif" alt=":mrgreen:" title="8-D" /><!-- s:mrgreen: -->	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">18-11-2009 07:52:09</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	I have made mention of some work I did in this area.  I think I can help out with at least some of the work to import some data.<br />
<br />
So a quick mention of what I do have:<br />
<br />
* ISC DHCP tool that will extract out subnet and host information.  It simply creates a CSV that can then be turned into a DCM.PL command.  The work on this tool is not very complete but it at least can get a nice list that can be used<br />
* I only have a tinydns based conversion tool.  I do not yet have one for BIND.  There are tools out there that convert from bind to tinydns I believe so this may be an option<br />
* If you have cisco network gear I have tools that will ensure subnets/interfaces/nat entries in your router configuration are in the database.  <br />
* nmap scan tool to help find hosts on the network that are not in the database.<br />
<br />
So, bottom line is that I have several tools that are in various states of usefullness (thats why I've not yet released them) but I do have many that would probably be a big help.  I can get those to you and we can see where that gets us.<br />
<br />
The first thing to start with is trying to get all of your subnets defined in the system.  I'd say the cisco tool is best for that.<br />
<br />
... gotta run but I think I can help in this area and hopefully turn them into more user friendly tools for all...	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">tin</p>
		<p class="dt">18-11-2009 15:20:26</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	We have a whole 1 subnet to enter, so manual entry there is easy   <!-- s:mrgreen: --><img src="{SMILIES_PATH}/icon_mrgreen.gif" alt=":mrgreen:" title="8-D" /><!-- s:mrgreen: --><br />
<br />
How complete is the plugin system? Is it in a state that I could write my own plugin to do imports like this? Is there any documentation on how it works?	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">18-11-2009 20:00:07</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	One subnet ehh.. well yep that will be easy.<br />
<br />
Complete is an interesting term.. <!-- s:) --><img src="{SMILIES_PATH}/icon_e_smile.gif" alt=":)" title=":-)" /><!-- s:) -->.. I'd say it is pretty functional, at least for the things I have built with it so far.  I know it has a few areas it  could do more in but it will at least give people an ability to write something that augments the system in various ways.  I think it would be cool if you would write a plugin!<br />
<br />
Alas, there is no documentation for plugins.  I've not even attempted that since I suspect it will change a bit more.  However I have an &quot;example&quot; plugin that shows the basic hooks that you can use to add the plugin to a menu or display screen.  I'd also say you can look at some of my other plugins to see how I implemented various things.<br />
<br />
I'll get some those posted here tomorrow for you to have a look at.<br />
<br />
It sounds like I may have a few tools already that will help you out and then we can work on filling in some gaps.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">psyber</p>
		<p class="dt">28-11-2009 15:26:29</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	<q cite="&amp;quot;tin&amp;quot;:2n7ytwg2">I vaguely remember reading something about importing existing DHCP and DNS into ONA... But now I can't find any info on doing so. Was I dreaming it?<br />
<br />
Reason I ask is I'm fairly happy with ONA and would like to put our existing data in. We only have about 200 entries to put in, but I'd rather not be the one typing it all  <!-- s:mrgreen: --><img src="{SMILIES_PATH}/icon_mrgreen.gif" alt=":mrgreen:" title="8-D" /><!-- s:mrgreen: --></q><br />
<br />
sysbot has a script that will convert bind type files into ONA<br />
<!-- l --><a class="postlink-local" href="http://opennetadmin.com/forum/viewtopic.php?f=4&amp;t=65">viewtopic.php?f=4&amp;t=65</a><!-- l --></q>	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">tin</p>
		<p class="dt">30-11-2009 16:00:47</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Just tried that perl script... Doesn't seem to want to work unfortunately. Just sits there doing (for all I can tell) nothing.<br />
<br />
Oh well. I'll keep plugging in numbers. Shouldn't take too long.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">30-11-2009 19:47:21</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Sorry I've not gotten back to you on the other tools I have.. I'm slammed at work right now and that is where those scripts are right now.  .....  <!-- s:? --><img src="{SMILIES_PATH}/icon_e_confused.gif" alt=":?" title=":-/" /><!-- s:? -->	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">tin</p>
		<p class="dt">30-11-2009 21:35:05</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	I got about half of our student computers entered today, before getting distracted and moving onto other projects. I wouldn't bother too much about it now. I'll probably finish later this week.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">yeled</p>
		<p class="dt">08-02-2010 08:17:54</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Hi Matt,<br />
<br />
do you have this Cisco script handy? Any form of releasability would be appreciated.	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">Matt</p>
		<p class="dt">08-02-2010 15:54:36</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	yeled,<br />
<br />
I can give you the code that will work with the current release but it will be busted when I release the next update.  I would suggest waiting for the next update as this script (and several others) will be released as plugins that can be installed  instead of hacked in one offs. <!-- s:) --><img src="{SMILIES_PATH}/icon_e_smile.gif" alt=":)" title=":-)" /><!-- s:) --><br />
<br />
If you can wait for that I think it would be best.. If you are still interested I can try and get you the files and info on where they go.<br />
<br />
Also for the script to work, it requires you to have configuration archives in ONA.  This is another piece to be worked out but you can get started with loading configurations into your ONA instance now.  It requires the use of the dcm.pl cli tool that you can get from the downloads section.<br />
<br />
here is an example:<br />
<br />
dcm.pl -r config_add type=IOS_CONFIG host=router.example.com config=/path/to/local/configfile<br />
<br />
This should upload the config and attach it to the router called 'router.example.com'... then later the check script can use the most recent configuration stored in ONA to compare to the data in the database.  There is a set of automated scripts for loading cisco configuration into ONA that I will release as well after the new version of ONA is out.<br />
<br />
Hope that helps........	<!-- END MESSAGE -->
	</div>
</div>
<div class="post ">
	<div class="info">
		<p class="poster">dmo</p>
		<p class="dt">09-02-2010 01:55:32</p>
	</div>
	<div class="msg">
	<!-- BEGIN MESSAGE -->
	Sounds great. I'm looking forward to this feature being implemented. <br />
<br />
Matt, as soon as I get the Cisco IOS import script working, I'm going to try and mod it to work on Nortel devices. Hopefully between me and some other users we can add config support for a wide range of devices.	<!-- END MESSAGE -->
	</div>
</div>
</section></div>



<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-2598149030041038";
//728x90_bugsfooter
google_ad_slot = "1568593938";
google_ad_width = 728;
google_ad_height = 90;
//--></script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

    <!-- FOOTER  -->
    <div class="outer">
      <footer class="inner">
          <center>
 


          </center>
      </footer>
    </div>

          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script
%3E"));
          </script>

          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-361894-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>


